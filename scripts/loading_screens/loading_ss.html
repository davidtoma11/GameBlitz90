<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>loading</title>
    <style>
        @font-face {
            font-family: SprinturaDemo;
            src: url(../../assets/fonts/SprinturaDemo.otf);
        }

        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: #000;
            overflow: hidden;
            flex-direction: column;
        }

        #loading-screen {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
        }

        .container>* {
            margin: 0.5vh;
        }

        .container {
            text-align: center;
            margin-top: 5vh;
        }

        h1,
        h2 {
            font-family: SprinturaDemo;
            color: white;
        }

        h1 {
            font-size: 3vw;
        }

        h2 {
            font-size: 1vw;
        }

        .container img {
            height: 2vh;
        }

        #main {
            width: 20vw;
            aspect-ratio: 1/1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 1vw;
        }

        .square {
            border-radius: 10%;
            transition: 0.05s ease-in;
        }

        .active {
            filter: brightness(1.8);
        }

        #red {
            border-bottom-right-radius: 40%;
            background: radial-gradient(circle, #CA5051 0%, #FE0D0D 100%);
        }

        #green {
            border-bottom-left-radius: 40%;
            background: radial-gradient(circle, #97CD78 0%, #26E04E 100%);
        }

        #blue {
            border-top-right-radius: 40%;
            background: radial-gradient(circle, #97D8E9 0%, #31B5FB 100%);
        }

        #yellow {
            border-top-left-radius: 40%;
            background: radial-gradient(circle, #F3F333 0%, #FFC423 100%);
        }
    </style>
</head>

<body>
    <div id="loading-screen">
        <div id="main">
            <div id="red" class="square hoverable"></div>
            <div id="green" class="square hoverable"></div>
            <div id="blue" class="square hoverable"></div>
            <div id="yellow" class="square hoverable"></div>
        </div>
        <div class="container">
            <h1>Loading game..</h1>
            <h2>Thanks for waiting !</h2>
            <img src="../../assets/visual_resoruces/Logo.png" alt="">
        </div>
    </div>
</body>
<script>
    const pads = {
        red: document.getElementById("red"),
        green: document.getElementById("green"),
        yellow: document.getElementById("yellow"),
        blue: document.getElementById("blue")
    };

    function flashPad(pad, duration) {
        pad.classList.add("active");
        setTimeout(() => {
            pad.classList.remove("active");
        }, duration / 2);
    }

    function animatePads(delay) {
        if (delay < 0.05) {
            window.location.href ="../SimonSays/SimonSays.html"
            return; 
        }

        let index = 0;
        const padArray = Object.values(pads);

        function next() {
            if (index < padArray.length) {
                flashPad(padArray[index], delay * 1000);
                index++;
                setTimeout(next, delay * 1000);
            } else {
                animatePads(delay / 2);
            }
        }

        next();
    }

    animatePads(0.3);

    
</script>


</html>